@page "/"
@using ZSR.Underwriting.Application.DTOs
@using ZSR.Underwriting.Application.Interfaces
@inject IDealService DealService
@inject NavigationManager Navigation
@rendermode InteractiveServer

<PageTitle>Dashboard</PageTitle>

<MudText Typo="Typo.h4" Class="mb-4">Dashboard</MudText>

@if (_loading)
{
    <MudProgressCircular Indeterminate="true" />
}
else
{
    <MudText Typo="Typo.body1">Welcome to ZSR Underwriting.</MudText>
}

@code {
    private bool _loading = true;
    private List<DealSummaryDto> _deals = new();

    protected override async Task OnInitializedAsync()
    {
        var deals = await DealService.GetAllDealsAsync();
        _deals = deals.ToList();
        _loading = false;
    }
}
